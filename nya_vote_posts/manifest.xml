<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE extension SYSTEM "ext-1.0.dtd">

<!--
/**
 * Allow users vote to posts.
 * 
 *
 * @copyright (C) 2011 KANekT like post extension for PunBB (C)
 * @based on 2011 hcs reputation extension for PunBB (C)
 * @copyright Copyright (C) 2011 PunBB
 * @license http://www.gnu.org/licenses/gpl.html GPL version 2 or higher
 * @package Vote Posts
 */
-->

<extension engine="1.0">
	<id>nya_vote_posts</id>
	<title>Vote for the Posts</title>
	<version>0.1.0</version>
	<description><![CDATA[Allow users to give points to posts.]]></description>
	<author>KANekT</author>
	<minversion>1.4</minversion>
	<maxtestedon>1.4</maxtestedon>

	<dependencies>
		<dependency>developer_helper</dependency>
		<dependency>pun_jquery</dependency>
		<dependency>nya_jquery_ui</dependency>
	</dependencies>

	<install><![CDATA[
define('VOTE_POSTS_INSTALL', 1);
require $ext_info['path'].'/install.php';	
	]]></install>

	<uninstall><![CDATA[
define('VOTE_POSTS_UNINSTALL', 1);
require $ext_info['path'].'/uninstall.php';
	]]></uninstall>

	<hooks>
		<hook id="vt_start"><![CDATA[
require $ext_info['path'].'/hook_dispatcher.php';
Vote_Posts_Hook_Dispatcher::topic_init();
		]]></hook>

		<hook id="agr_start, aop_start"><![CDATA[
require $ext_info['path'].'/hook_dispatcher.php';
Vote_Posts_Hook_Dispatcher::admin_init();
		]]></hook>

		<hook id="pf_start"><![CDATA[
require $ext_info['path'].'/hook_dispatcher.php';
Vote_Posts_Hook_Dispatcher::profile_init();
		]]></hook>

		<hook id="co_modify_url_scheme"><![CDATA[
if (file_exists($ext_info['path'].'/url/'.$forum_config['o_sef'].'.php'))
	require $ext_info['path'].'/url/'.$forum_config['o_sef'].'.php';
else
	require $ext_info['path'].'/url/Default.php';
		]]></hook>
		
		<hook id="re_rewrite_rules"><![CDATA[
require $ext_info['path'].'/url/rewrite_rule.php';
		]]></hook>	
	</hooks>
</extension>
